<!DOCTYPE html>
<html>
<!--<script src="http://maps.googleapis.com/maps/api/js?sensor=false"></script><!-->
<div id="message"></div>
<head>
<title>藏寶圖</title>
<meta name="viewport" content="initial-scale=1.0">
<meta charset="utf-8">
    <style>
      html, body {
        height: 100%;
        margin: 0;
        padding: 0;
      }
      #map {
        height: 100%;
      }
	  .imng_left {
	  float: left;
	  margin: 3px 8px;
	  
}
    </style>
</head>

<body onload="loadDemo()">                                
	<div id="map"></div>	

	
    <script>
        function initMap() {		
        var map = new google.maps.Map(document.getElementById('map'), {
          center: {lat: 22.7259888, lng: 120.3127749},            //進入網頁時的中心點
          zoom: 15
        });
		a="https://lionxiang.github.io/Treasure/treasure2.png";			
        //var infoWindow = new google.maps.InfoWindow({map: map});
        // Try HTML5 geolocation.
        if (navigator.geolocation) {
          navigator.geolocation.watchPosition(function(position) {
            var pos = {
              lat: position.coords.latitude,
              lng: position.coords.longitude
            };
            //infoWindow.setPosition(pos);
            //infoWindow.setContent('Hello~小小探險家這是你現在的位置');
            map.setCenter(pos);	
			//使用者marker icon
			//頭                           

					
			var marker = new google.maps.Marker({ 		
            position: pos,
			draggable:false,
			icon : "https://lionxiang.github.io/Treasure/fishelder.png",
            map: map
            });			
	        //var contentString = "<h1>目前位置</h1><p><img src='https://lionxiang.github.io/Treasure/21697849_1965533193661439_1722241620_n.png' style='float: left; '>&nbsp&nbsp我叫維剛，我要成為冒險王!!</p>";  //&nbsp空格 一個表示一格
  	        //var infowindow = new google.maps.InfoWindow({
    	    //content: contentString,
		    //maxWidth: 210
	        //});	
	        marker.addListener('click', function() {
		    infowindow.open(map, marker);
	        });	
			setInterval(function(){
				//alert("3");
				marker.setMap(null);
			},5000);			
			//尾
			//寶藏1-START
			var pos2 ={lat: 22.7251811 , lng: 120.3145459};     //海科校門口       
	        var marker2 = new google.maps.Marker({
            icon : a,
            position: pos2,
            map: map
            });
	        var contentString2 = "<h1><center>寶藏位置提示</center></h1><p><img src='https://lionxiang.github.io/Treasure/prompt1.jpg' style='float: left;' class='imng_left'>外觀似廟又非廟，專題讓我哇哇叫，資管數學有大刀，維剛讀到想要逃。</p>"; //style='float: left;  置左
  	        var infowindow2 = new google.maps.InfoWindow({
    	    content: contentString2,
		    maxWidth: 220
	        });	
	        marker2.addListener('click', function() {
		    infowindow2.open(map, marker2);
	        });
			//寶藏1-END
			//寶藏2-START
			var pos3 ={lat: 22.7284006 , lng: 120.3198617};      //青田街        
	        var marker3 = new google.maps.Marker({
            icon : a,
            position: pos3,
            map: map
            });
	        var contentString3 = "<h1><center>寶藏位置提示</center></h1><p><img src='https://lionxiang.github.io/Treasure/prompt1.jpg' style='float: left;' class='imng_left'>陳昱宇<br>湯竣揚<br>張承展<br>楊政浩<br>王翎蓉</p>";
  	        var infowindow3 = new google.maps.InfoWindow({
    	    content: contentString3,
		    maxWidth: 220
	        });	
	        marker3.addListener('click', function() {
		    infowindow3.open(map, marker3);
	        });
			//寶藏2-END
			//寶藏3-START
			var pos4 ={lat: 22.7238047 , lng: 120.3166884};      //後勁公園       
	        var marker4 = new google.maps.Marker({
            icon : a,
            position: pos4,
            map: map
            });
	        var contentString4 = "<h1><center>寶藏位置提示</center></h1><p><img src='https://lionxiang.github.io/Treasure/prompt3.jpg' style='float: left;' class='imng_left'>廟旁，學校旁<br>小朋友愛我<br>小狗也愛我。</p>";
  	        var infowindow4 = new google.maps.InfoWindow({
    	    content: contentString4,
		    maxWidth: 220
	        });	
	        marker4.addListener('click', function() {
		    infowindow4.open(map, marker4);
	        });
			//寶藏3-END
			//寶藏4-START
			var pos5 ={lat: 22.7252742 , lng: 120.3149966};      //海科大信樓      
	        var marker5 = new google.maps.Marker({
            icon : a,
            position: pos5,
            map: map
            });
	        var contentString5 = "<h1><center>寶藏位置提示</center></h1><p><img src='https://lionxiang.github.io/Treasure/prompt1.jpg' style='float: left;' class='imng_left'>我離校門口最近<br>也離警衛室最近<br>要去海天樓會經過我。</p>";
  	        var infowindow5 = new google.maps.InfoWindow({
    	    content: contentString5,
		    maxWidth: 210
	        });	
	        marker5.addListener('click', function() {
		    infowindow5.open(map, marker5);
	        });
			//寶藏4-END
			//寶藏5-START
			var pos6 ={lat: 22.7255471 , lng: 120.3131531};        //厚生樓   
	        var marker6 = new google.maps.Marker({
            icon : a,
            position: pos6,
            map: map
            });
	        var contentString6 = "<h1><center>寶藏位置提示</center></h1><p><img src='https://lionxiang.github.io/Treasure/prompt1.jpg' style='float: left;' class='imng_left'>我底下有金龍<br>海科最新的大樓。</p>";
  	        var infowindow6 = new google.maps.InfoWindow({
    	    content: contentString6,
		    maxWidth: 210
	        });	
	        marker6.addListener('click', function() {
		    infowindow6.open(map, marker6);
	        });
			//寶藏5-END
			//寶藏6-START
			var pos7 ={lat: 22.7276603 , lng: 120.3139573};         //惠海樓    
	        var marker7 = new google.maps.Marker({
            icon : a,
            position: pos7,
            map: map
            });
	        var contentString7 = "<h1><center>寶藏位置提示</center></h1><p><img src='https://lionxiang.github.io/Treasure/prompt1.jpg' style='float: left;' class='imng_left'>外表似居所<br>實名為網咖<br>冷氣吹爽爽<br>早八睡到爽</p>";
  	        var infowindow7 = new google.maps.InfoWindow({
    	    content: contentString7,
		    maxWidth: 210
	        });	
	        marker7.addListener('click', function() {
		    infowindow7.open(map, marker7);
	        });
			//寶藏6-END
			//寶藏7-START
			var pos8 ={lat: 22.7238134 , lng: 120.3124775};        //泰式料理那條    
	        var marker8 = new google.maps.Marker({
            icon : a,
            position: pos8,
            map: map
            });
	        var contentString8 = "<h1><center>寶藏位置提示</center></h1><p><img src='https://lionxiang.github.io/Treasure/prompt1.jpg' style='float: left;' class='imng_left'>123</p>";
  	        var infowindow8 = new google.maps.InfoWindow({
    	    content: contentString8,
		    maxWidth: 210
	        });	
	        marker8.addListener('click', function() {
		    infowindow8.open(map, marker8);
	        });
			//寶藏7-END
			//寶藏8-START
			var pos9 ={lat: 22.7260994 , lng: 120.3175415};           //籃球場
	        var marker9 = new google.maps.Marker({
            icon : a,
            position: pos9,
            map: map
            });
	        var contentString9 = "<h1><center>寶藏位置提示</center></h1><p><img src='https://lionxiang.github.io/Treasure/prompt1.jpg' style='float: left;' class='imng_left'>揮灑青春的汗水</p>";
  	        var infowindow9 = new google.maps.InfoWindow({
    	    content: contentString9,
		    maxWidth: 210
	        });	
	        marker9.addListener('click', function() {
		    infowindow9.open(map, marker9);
	        });
			//寶藏8-END
			//寶藏9-START
			var pos10 ={lat: 22.7302952 , lng: 120.3174557};       //監理所     
	        var marker10 = new google.maps.Marker({
            icon : a,
            position: pos10,
            map: map
            });
	        var contentString10 = "<h1><center>寶藏位置提示</center></h1><p><img src='https://lionxiang.github.io/Treasure/prompt1.jpg' style='float: left;' class='imng_left'>考駕照囉</p>";
  	        var infowindow10 = new google.maps.InfoWindow({
    	    content: contentString10,
		    maxWidth: 250
	        });	
	        marker10.addListener('click', function() {
		    infowindow10.open(map, marker10);
	        });
			//寶藏9-END
			//寶藏10-START
			var pos11 ={lat: 22.7328996 , lng: 120.3111379};            //都會公園
	        var marker11 = new google.maps.Marker({
            icon : a,
            position: pos11,
            map: map
            });
	        var contentString11 = "<h1><center>寶藏位置提示</center></h1><p><img src='https://lionxiang.github.io/Treasure/prompt2.jpg' style='float: left;' class='imng_left'>居家漆逃喝搜災<br>綠蔭連綿<br>能跑步能野餐<br>小心蛇出沒</p>";
  	        var infowindow11 = new google.maps.InfoWindow({
    	    content: contentString11,
		    maxWidth: 210
	        });	
	        marker11.addListener('click', function() {
		    infowindow11.open(map, marker11);
	        });
			//寶藏10-END			
          }, function() {
            handleLocationError(true, infoWindow, map.getCenter());
          });
		  
		  
        } else {
          // Browser doesn't support Geolocation
          handleLocationError(false, infoWindow, map.getCenter());
        }
      }
	  	
	  
      //function handleLocationError(browserHasGeolocation, infoWindow, pos) {
      //  infoWindow.setPosition(pos);
      //  infoWindow.setContent(browserHasGeolocation ?
      //                        'Error: The Geolocation service failed.' :
      //                        'Error: Your browser doesn\'t support geolocation.');
      //}
	  
    </script> 

    <script async defer
	src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCtBb2wMesjlWbJBngogK4otsCXOXlr7Kk&callback=initMap">
	</script>
</body>
</html>
